# 2D Платформер с генерацией уровня
![Relative date](https://img.shields.io/date/1683601200?style=plastic&logo=aseprite&logoColor=f09d13)

[Инструкция по работе с инструментами разработки](manual.md)

## Gameplay
1. *(Процедурная?)* Генерация уровня
2. Доп. объекты: ускорители, шипы, ба**т**ут
3. Вражина, мешающая уровни проходить

## Стилистика
*Фантастика какая-нибудь... намешанная с реальным миром*

## План работ
1. ~Настройка cmake, подключение sfml~
2. Написание первого прототипа игрового движка
3. Подбор пакета графики
4. Коллизия
5. Первый тестовый уровень
6. Щепотка физики: гравитация, прыжки
7. Рефакторинг
8. Добавление *Entity* (врагов)
9. Система состояний игрока (здоровье, бег, ..)
10. Анимации (параллельная задача)
11. Попытка реализовать генерацию уровня
12. Создание нормальной генерации уровня
13. Полировка, рефакторинг
14. Пользовательский интерфейс
15. Усложнение игры

## Структура классов
```
Core

Object
└── Actor
    └── Pawn
        └── Character
            ├── Enemy
            └── Player
 
Map
```

## Описание классов
- `Core` – ядро, вторая точка входа.
 <div>
 
- `Object` – самый базовый класс для всех объектов;
- `Actor` – базовый класс, используется для объектов, имеющих отношение к игровому миру. В большинстве случаев будет использоваться именно он;
- `Pawn` – вещи, на которые влияет игрок (управление объектом с клавиатуры например);
- `Character` – продвинутый Pawn. Реализация передвижения, каких-нибудь взаимодействий, <...>
- `Enemy` – логика поведения врагов. *Интересно, будет ли здесь ИИ?*
- `Player` – как Character, но содержит логику, применимую только к игроку.
</div>
 
- `Map` – карта.

## Инструкция по сборке
### Windows
Есть два пути:
1. **Сборка с помощью `build-windows.bat`**\
Будет задано два вопроса, на них нужно будет ответить. Так как с командной строкой какой-то костыль, то отвечать придётся по два раза.\
После того, как всё выполнится, в корневой директории появится ярлык файла решения `2djourney - Shortcut.lnk`\
Кликнув по нему два раза, откроется Visual Studio. Сначала студия проанализирует все проекты, это займёт некоторое время.\
\
Для привычного запуска следует в обозревателе решений кликнуть ПКМ по 2djourney и выбрать *Назначить в качестве запускаемого проекта*\
\
`build-windows.bat` можно запустить с некоторыми ключами, пропустив таким образом вопросы после запуска (порядок не важен):
    - `-c` – компилировать проект
    - `-e` – удалить папку build
    - `-nc` – не компилировать проект
    - `-ne` – не удалять папку build\
\
Пример: \
`build-windows.bat -c -ne` запустит кэшированную компиляцию исходников в .exe файл

2. **Сборка с нуля в Visual Studio**\
Для этого варианта нужно открыть в Visual Studio саму папку проекта, при этом `build-windows.bat` запускать не нужно.\
А дальше самостоятельно)))\
Если Visual Studio не настроена для работы с CMake, она направит по [этой](https://learn.microsoft.com/ru-ru/cpp/build/cmake-projects-in-visual-studio?view=msvc-170) ссылке.

### Linux
Необходимо запустить `build-linux.sh`\
Если передать любой аргумент, то папка build удалена не будет.\
После запуска будет выполнена сборка и компиляция проекта.

### Где искать файлы?
Исполняемые файлы находятся в директории `build/bin`\
Остальные файлы, сгенерированные при сборке, находятся в директории `build`.
