# 2D Платформер с генерацией уровня
![Relative date](https://img.shields.io/date/1683601200?style=plastic&logo=aseprite&logoColor=f09d13)

[Инструкция по работе с инструментами разработки](manual.md)

Придерживаемся данного CodeStyle: [[Link]](https://lefticus.gitbooks.io/cpp-best-practices/content/03-Style.html)

## Gameplay
1. *(Процедурная?)* Генерация уровня
2. Доп. объекты: ускорители, шипы
3. Вражина, мешающая уровни проходить

По мере прохождения уровня, игроку будут начисляться очки. При новом прохождении счётчик очков будет обнуляться.\
Рейтинг-таблица с именами игроков не планируется. Возможно, в будущем будет сохраняться наибольшее количество очков и показываться на главном экране, но на данный момент такое не предполагается.
\
Сохранение в игре не планируется.

Главный экран – экран, который появляется сразу после запуска приложения. Содержит название и главное меню.\
Главное меню состоит из 2х пунктов: Начать игру, Выйти\
В будущем могут появиться настройки. Сейчас в них нет необходимости.

Задний фон будет залит градиентом на первое время.

## Стилистика
*o_o*

## План работ
1. ~Настройка cmake, подключение sfml~ (done) `@weendx`
2. ~Написание первого прототипа игрового движка~ `@weendx`
3. Подбор пакета графики `@ded4lka`
4. Коллизия `@ded4lka`
5. Первый тестовый уровень `@weendx`
6. Щепотка физики: гравитация, прыжки
7. Рефакторинг
8. Добавление *Entity* (врагов)
9. Система состояний игрока (здоровье, бег, ..)
10. Анимации (параллельная задача)
11. Попытка реализовать генерацию уровня
12. Создание нормальной генерации уровня
13. Полировка, рефакторинг
14. Пользовательский интерфейс

### Дополнительно:
1. Background Parallax
2. Усложнение игры

## Иерархия классов
```
Object
├── Actor
│   └── Player
├── Text
│   └── FpsCounter
└── DebugInformer

Core
```

## Описание классов
- `Core` – ядро, вторая точка входа.
 <div>
 
- `Object` – самый базовый класс для всех объектов;
- `Actor` – базовый класс, используется для объектов, имеющих отношение к игровому миру. В большинстве случаев будет использоваться именно он;
- `Player` – всё, что есть для игрока: перемещение, .
</div>
 
- `Map` – карта.

## Инструкция по сборке
### Windows
Есть два пути:
1. **Сборка с помощью `build-windows.bat`**\
Будет задано два вопроса, на них нужно будет ответить. Так как с командной строкой какой-то костыль, то отвечать придётся по два раза.\
После того, как всё выполнится, в корневой директории появится ярлык файла решения `2djourney - Shortcut.lnk`\
Кликнув по нему два раза, откроется Visual Studio. Сначала студия проанализирует все проекты, это займёт некоторое время.\
\
Для привычного запуска следует в обозревателе решений кликнуть ПКМ по 2djourney и выбрать *Назначить в качестве запускаемого проекта*\
\
`build-windows.bat` можно запустить с некоторыми ключами, пропустив таким образом вопросы после запуска (порядок не важен):
    - `-c` – компилировать проект
    - `-e` – удалить папку build
    - `-nc` – не компилировать проект
    - `-ne` – не удалять папку build\
\
Пример: \
`build-windows.bat -c -ne` запустит кэшированную компиляцию исходников в .exe файл

2. **Сборка с нуля в Visual Studio**\
Для этого варианта нужно открыть в Visual Studio саму папку проекта, причём `build-windows.bat` запускать не нужно.\
А дальше самостоятельно)))\
Если Visual Studio не настроена для работы с CMake, она направит по [этой](https://learn.microsoft.com/ru-ru/cpp/build/cmake-projects-in-visual-studio?view=msvc-170) ссылке.

### Linux
Необходимо запустить `build-linux.sh`\
Если передать любой аргумент, то папка build удалена не будет.\
После запуска будет выполнена сборка и компиляция проекта.

### Где искать файлы?
Исполняемые файлы находятся в директории `build/bin`\
Остальные файлы, сгенерированные при сборке, находятся в директории `build`
